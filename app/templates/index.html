{% extends 'base.html' %}

{% block content %}
    <div class="container margin-top">
        <h1 class="display-1 text-center">THUMB-API</h1>
        <h4 class="text-center mb-5">This simple API takes your image file and compress and scale it in however fashion you want.</h4>

        <form action="" enctype="multipart/form-data" method="post" class="form" role="form">
            {{ form.hidden_tag() }}
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="upload-tab" data-toggle="tab" href="#upload" role="tab" aria-controls="upload" aria-selected="true">Upload</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="link-tab" data-toggle="tab" href="#link" role="tab" aria-controls="link" aria-selected="false">URL</a>
                </li>
            </ul>
            <div class="tab-content mt-3">
                <div class="custom-file mb-4 tab-pane show active" id="upload" role="tabpanel" aria-labelledby="upload-tab">
                    <input type="file" class="custom-file-input" id="customFile" name="file_f">
                    <label class="custom-file-label" for="customFile">{{ form.file_f.label }}</label>
                </div>
                <div class="form-group tab-pane" id="link" role="tabpanel" aria-labelledby="link-tab">
                    {{ form.url.label }}
                    <input type="text" class="form-control" id="url" name="url">
                </div>
            </div>
            <div class="row">



                <div class="col-lg-3">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="scale-tab" data-toggle="tab" href="#sc" role="tab" aria-controls="scale" aria-selected="true">Scale</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="wh-tab" data-toggle="tab" href="#wh" role="tab" aria-controls="wh" aria-selected="false">Width/Height</a>
                        </li>
                    </ul>
                
                    <div class="tab-content mt-3">
                        <div class="form-group tab-pane show active" id="sc" role="tabpanel" aria-labelledby="scale-tab">
                            <input type="text" class="form-control" id="scale" aria-describedby="desc_scale">
                            <small class="text-muted" id="desc_scale">Scale with aspect ratio (e.g. 0.5 is 50% of the image size)</small>
                        </div>
                        <div class="tab-pane" id="wh" role="tabpanel" aria-labelledby="wh-tab">
                            <div class="form-row">
                                <div class="form-group col">
                                    {{ form.w.label }}
                                    <input type="text" class="form-control" id="w" name="w">
                                </div>
                                
                                <div class="form-group col">
                                    {{ form.h.label }}
                                    <input type="text" class="form-control" id="h" name="h">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="form-group col-lg-2 mt-1 mt-lg-4">
                    {{ form.compress.label }}
                    <input type="text" class="form-control" value="100" name="compress">
                </div>
            
            
            
                <div class="col-lg-6 mt-3 mt-lg-0">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="dl-tab" data-toggle="tab" href="#dl" role="tab" aria-controls="dl" aria-selected="true">Download Image</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="ul-tab" data-toggle="tab" href="#ul" role="tab" aria-controls="ul" aria-selected="false">Upload to S3</a>
                        </li>
                    </ul>
                    <div class="tab-content mt-3">
                        <div class="tab-pane show active text-center" role="tabpanel" aria-labelledby="dl" id="dl">
                            <input class="btn btn-outline-success" id="download" name="download" type="submit" value="Download">
                        </div>
                        <div class="tab-pane" role="tabpanel" aria-labelledby="ul" id="ul">
                            <div class="form-group">
                                <label for="s3_bucket">Bucket Name</label>
                                <input type="text" class="form-control" id="s3_bucket" name="s3_bucket">
                            </div>
                            <div class="form-group">
                                <label for="s3_key">S3 Access Key</label>
                                <input type="text" class="form-control" id="s3_key" name="s3_key">
                            </div>
                            <div class="form-group">
                                <label for="s3_secret">S3 Secret Key</label>
                                <input type="text" class="form-control" id="s3_secret" name="s3_secret">
                            </div>
                            <div class="form-group">
                                <label for="s3_path">Base path</label>
                                <input type="text" class="form-control" id="s3_path" name="s3_path">
                            </div>
                            <input class="btn btn-outline-success" id="upload" name="upload" type="submit" value="Upload to S3">
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}